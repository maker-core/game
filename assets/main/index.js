System.register("chunks:///_virtual/app.ts",["cc","./ResMgr.ts","./Message.ts"],(function(e){var s,t,n,a,c;return{setters:[function(e){s=e.cclegacy,t=e.find,n=e.instantiate},function(e){a=e.ResMgr},function(e){c=e.Message}],execute:function(){s._RF.push({},"8d593AQkSdEFYxZSVYq20cQ","app",void 0);e("Tost",(function(e){var s=t("mian/Canvas"),i=a.Instance.getAsset("Sounds","Message"),u=n(i);s.getChildByName("Message")||(s.addChild(u),u.getComponent(c).setValue(e))}));s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts"],(function(s){var o,n,t,u,i,e;return{setters:[function(s){o=s.inheritsLoose},function(s){n=s.cclegacy,t=s._decorator,u=s.AudioSource,i=s.Component},function(s){e=s.ResMgr}],execute:function(){n._RF.push({},"dfc68ApNu9H27Pz05ghRcER","AudioMgr",void 0);t.ccclass,t.property;s("AudioMgr",function(s){function n(){for(var o,n=arguments.length,t=new Array(n),u=0;u<n;u++)t[u]=arguments[u];return(o=s.call.apply(s,[this].concat(t))||this).sounds={},o}o(n,s);var t=n.prototype;return t.onLoad=function(){n.Instance?this.destroy():n.Instance=this},t.play=function(s,o){if(!this.sounds[s]){var n=e.Instance.getAsset("Sounds",""+s),t=new u(s);t.clip=n,this.sounds[s]=t}o.loop&&(this.sounds[s].loop=o.loop),o.playOnAwake&&(this.sounds[s].playOnAwake=o.playOnAwake),o.volume&&(this.sounds[s].volume=o.volume),this.sounds[s].playing||this.sounds[s].play()},t.pause=function(s){this.sounds[s]&&this.sounds[s].pause()},t.stop=function(s){this.sounds[s]&&this.sounds[s].stop()},t.stopAll=function(){for(var s in this.sounds)this.sounds[s].stop()},t.getAudioSourceByName=function(s){if(this.sounds[s])return this.sounds[s];console.error(s+" 不存在")},n}(i)).Instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/BulletFrame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UiMgr.ts"],(function(e){var t,i,n,o,r,a,s,c,l,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.SpriteFrame,c=e.Node,l=e.Label,p=e.Sprite},function(e){u=e.UICtrl}],execute:function(){var m,h,g,f,v,b,y,d,w;r._RF.push({},"cdf2eac9r1DIJdgYX9SjOO8","BulletFrame",void 0);var k=a.ccclass,C=a.property;e("BulletFrame",(m=k("BulletFrame"),h=C(s),g=C(s),f=C(s),m((y=t((b=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"icon1",y,o(t)),n(t,"icon2",d,o(t)),n(t,"icon3",w,o(t)),t.type=1,t}i(t,e);var r=t.prototype;return r.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.view["mask/close"].on(c.EventType.TOUCH_END,(function(e){e.propagationStopped=!0,t.node.active=!1}))},r.close=function(){this.node.active=!1},r.setType=function(e){switch(this.type=e,e){case 1:this.view["mask/title/Label"].getComponent(l).string="Remove",this.view["mask/cal/icon"].getComponent(p).spriteFrame=this.icon1,this.view["mask/Label"].getComponent(l).string="Remove 3 objects from the grid and place them in the temporary storage.";break;case 2:this.view["mask/title/Label"].getComponent(l).string="Scrape",this.view["mask/cal/icon"].getComponent(p).spriteFrame=this.icon2,this.view["mask/Label"].getComponent(l).string="Automatically gather and place objects together";break;case 3:this.view["mask/title/Label"].getComponent(l).string="Disruption",this.view["mask/cal/icon"].getComponent(p).spriteFrame=this.icon3,this.view["mask/Label"].getComponent(l).string="Disrupt the pile of items"}},r.update=function(e){},t}(u)).prototype,"icon1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(b.prototype,"icon2",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(b.prototype,"icon3",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=b))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/config.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"5fb11dsqL9C1JmVA7jcjYFI","config",void 0);t("baseUrl1","http://34.145.10.202:8091/"),t("baseUrl","http://192.168.1.103:8091/");t("baseUrl","https://goose.kystudio.cn/api/"),c._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o,r,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,r=n.EventTarget,c=n.Component}],execute:function(){e._RF.push({},"a0520KQvgVIhr8MfV5+NVnO","EventMgr",void 0);o.ccclass,o.property;n("EventMgr",function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.prototype.onLoad=function(){e.Instance?this.destroy():e.Instance=new r},e}(c)).Instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./AudioMgr.ts","./EventMgr.ts","./GameFiMgr.ts"],(function(t){var n,e,o,a,s,i,r,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.Component},function(t){s=t.ResMgr},function(t){i=t.AudioMgr},function(t){r=t.EventMgr},function(t){c=t.GameFiMgr}],execute:function(){var u,d;e._RF.push({},"b0fb1qHVZZJ2ryeBmIZ5PQb","GameData",void 0);var p=o.ccclass;t("GameData",p("GameData")(((d=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){e.Instance?this.destroy():(e.Instance=this,this.node.addComponent(s),this.node.addComponent(i),this.node.addComponent(r),this.node.addComponent(c))},e}(a)).Instance=void 0,u=d))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameFiMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index4.ts"],(function(n){var t,e,o,c,r,s,i,a,u;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){c=n.cclegacy,r=n.Component},function(n){s=n.TonConnectUI,i=n.GameFi,a=n.Address,u=n.toNano}],execute:function(){c._RF.push({},"aad960tLrFGW6F0FqomlQl4","GameFiMgr",void 0),n("GameFiMgr",function(n){function c(){for(var t,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(t=n.call.apply(n,[this].concat(o))||this)._cocosGameFi=void 0,t._connectUI=void 0,t._bTonInit=!1,t.address="",t}t(c,n);var r=c.prototype;return r.onLoad=function(){c.Instance?this.destroy():c.Instance=this},r.initTonConnect=function(){var n=e(o().mark((function n(t){var e,c=this;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new s({manifestUrl:"https://ton-connect.github.io/demo-dapp-with-wallet/tonconnect-manifest.json"}),n.next=3,i.create({network:"mainnet",connector:e,merchant:{jettonAddress:a.parse("EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs"),tonAddress:"UQAMNl5M8dv_x5gEjAGzmARBUaey6qME2zwghgk0Jbd6kZB0"}});case 3:this._cocosGameFi=n.sent,this._connectUI=this._cocosGameFi.walletConnector,this._connectUI.onModalStateChange((function(n){console.log("model state changed! : "),c.updateConnect()})),this._connectUI.onStatusChange((function(n){console.log(n),console.log("wallet info status changed : "),c.updateConnect(),t&&t(n)})),this._bTonInit=!0,this.updateConnect();case 9:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),r.isConnected=function(){return this._connectUI?this._connectUI.connected:(console.error("ton ui not inited!"),!1)},r.updateConnect=function(){if(this.isConnected()){var n=this._connectUI.account.address;this.address=n}},r.openModal=function(){var n=e(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._bTonInit){n.next=2;break}return n.abrupt("return");case 2:this.isConnected()?this._connectUI.disconnect():this._connectUI.openModal();case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.sendTransaction=function(){var n=e(o().mark((function n(t){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this._cocosGameFi.transferJetton({to:a.parse("UQCXLI7EllDjQEFRglhfKi42hlZwyvYN-IKXM6nAc52_nZQp"),amount:u(t)});case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),c}(r)).Instance=void 0,c._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc"],(function(t){var e,p,a;return{setters:[function(t){e=t.cclegacy,p=t.Prefab,a=t.AudioClip}],execute:function(){e._RF.push({},"575f06Qf8dBlrkz2fzrc3qq","index",void 0);t("resPkg",{GUI:{urls:[{tooTip:"u",type:"0",path:"eggcoin",assetType:p},{tooTip:"1",type:"0",path:"Breakfast_Sandwich",assetType:p},{tooTip:"2",type:"0",path:"Burger_Wrapped",assetType:p},{tooTip:"3",type:"0",path:"Croissant_Dough",assetType:p},{tooTip:"t",type:"1",path:"usdc",assetType:p},{tooTip:"4",type:"1",path:"IceCream",assetType:p},{tooTip:"5",type:"1",path:"Ketchup_Cup",assetType:p},{tooTip:"6",type:"1",path:"Waffle_Plain",assetType:p},{tooTip:"7",type:"1",path:"Chip_Bag",assetType:p},{tooTip:"8",type:"1",path:"Corndog",assetType:p},{tooTip:"9",type:"2",path:"Loaf_Cinnamon",assetType:p},{tooTip:"a",type:"2",path:"Loaf_White",assetType:p},{tooTip:"b",type:"2",path:"Wreath_Light",assetType:p},{tooTip:"c",type:"2",path:"ToGo_Bag_W",assetType:p}]},Sounds:{urls:[{path:"btnclick",assetType:a},{path:"freeze",assetType:a},{path:"pass",assetType:a},{path:"softFail",assetType:a},{path:"starCollect",assetType:a},{path:"tap",assetType:a},{path:"bg",assetType:a},{path:"click",assetType:a},{path:"Message",assetType:p}]}});e._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc","./moment.mjs_cjs=&original=.js","./moment.js"],(function(n){var t,r;return{setters:[function(n){t=n.cclegacy},null,function(n){r=n.default}],execute:function(){n({addSeparatorToNumber:function(n,t){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)},countdown:function(n){var t=r(),o=n,e=r.duration(o.diff(t));if(e.asMilliseconds()<=0)return{end:!0};var u=Math.floor(e.asDays()),a=Math.floor(e.hours()),i=Math.floor(e.minutes()),s=Math.floor(e.seconds());return{days:u,hours:a,minutes:i,seconds:s,end:!1}},debounce:function(n,t){var r=null;return function(){for(var o=this,e=arguments.length,u=new Array(e),a=0;a<e;a++)u[a]=arguments[a];r&&clearTimeout(r),r=setTimeout((function(){n.apply(o,u)}),t)}},getRandom:function(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}}),t._RF.push({},"75244sNKmhGJIbha+4+BzAW","index",void 0);n("keyObject",(function(n){var t="";for(var r in n)t+=r+"="+n[r]+"&";return""!==t&&(t=t.substr(0,t.lastIndexOf("&"))),t}));t._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["cc","./request.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.default}],execute:function(){e({buyPropProduct:function(e){return n({data:e||null,method:"GET",url:"game/buyPropProduct"})},gameOver:function(e){return n({data:e||null,method:"POST",url:"game/gameOver"})},generateModelSorting:function(e){return n({data:e||null,method:"GET",url:"rule/generateModelSorting"})},getGameUserInfo:function(e){return n({data:e||null,method:"GET",url:"gameUser/getGameUserInfo"})},getPrice:function(e){return n({data:e||null,method:"GET",url:"getPrice"})},openNewGame:function(e){return n({data:e||null,method:"GET",url:"game/openNewGame"})},postTest:function(e){return n({data:e||null,method:"POST",url:"postTest"})}}),t._RF.push({},"c657fQy5bpLFLenBmom+S00","index",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Item.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,r,n,s,a,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,a=e.Vec3,c=e.RigidBody,l=e.Collider,u=e.Component}],execute:function(){var p,d,f,m,y,v,g;n._RF.push({},"b08a3qMqrRKXaTPZOtmmSw2","Item",void 0);var h=s.ccclass,b=s.property;e("Item",(p=h("Item"),d=b(a),f=b(a),p((v=t((y=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).removed=!1,t.removedPos=void 0,t.playRmovedEff=!1,t.isTemp=!1,t.isBottom=!1,i(t,"rotation",v,r(t)),i(t,"scale",g,r(t)),t}o(t,e);var n=t.prototype;return n.start=function(){},n.setUseGravity=function(e){var t=this.node.getComponent(c);t&&(t.useGravity=e)},n.setWorldPosition=function(e){var t=this.node.getWorldPosition();t.y+=e,this.node.setWorldPosition(t)},n.destoryCollider=function(){if(!this.isTemp){var e=this.node.getComponent(c);this.node.getComponent(l).isTrigger=!0,e&&e.destroy()}},n.update=function(e){},t}(u)).prototype,"rotation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(0,0,0)}}),g=t(y.prototype,"scale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(1,1,1)}}),m=y))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./BulletFrame.ts","./Message.ts","./config.ts","./index.ts","./GameData.ts","./Item.ts","./Main.ts","./Start.ts","./AudioMgr.ts","./EventMgr.ts","./GameFiMgr.ts","./ResMgr.ts","./UiMgr.ts","./app.ts","./index2.ts","./request.ts","./storage.ts","./type.ts","./index3.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UiMgr.ts","./index.ts","./ResMgr.ts","./AudioMgr.ts","./Item.ts","./index2.ts","./moment.mjs_cjs=&original=.js","./app.ts","./BulletFrame.ts","./index3.ts","./index.mjs_cjs=&original=.js","./storage.ts","./GameFiMgr.ts","./moment.js","./index.js"],(function(e){var t,n,i,o,a,s,r,l,c,u,v,m,p,h,g,d,f,C,y,w,T,b,I,k,O,S,P,E,_,x,N,M,D,U,G,R,A,L,B,F,H,z,j,W,V,q,X;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime,r=e.extends,l=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,u=e._decorator,v=e.sp,m=e.Material,p=e.SpriteFrame,h=e.Prefab,g=e.Sprite,d=e.Label,f=e.game,C=e.input,y=e.Input,w=e.Camera,T=e.geometry,b=e.PhysicsSystem,I=e.MeshRenderer,k=e.Tween,O=e.Vec3,S=e.tween,P=e.instantiate,E=e.RigidBody,_=e.Node,x=e.director},function(e){N=e.UICtrl},function(e){M=e.resPkg},function(e){D=e.ResMgr},function(e){U=e.AudioMgr},function(e){G=e.Item},function(e){R=e.getRandom,A=e.countdown},null,function(e){L=e.Tost},function(e){B=e.BulletFrame},function(e){F=e.generateModelSorting,H=e.openNewGame,z=e.gameOver,j=e.buyPropProduct},null,function(e){W=e.getStorageData},function(e){V=e.GameFiMgr},function(e){q=e.default},function(e){X=e.default}],execute:function(){var Z,J,K,Q,Y,$,ee,te,ne,ie,oe,ae,se,re,le;c._RF.push({},"a7d6dXfqilInpZcCfgaVlXs","Main",void 0);var ce=u.ccclass,ue=u.property,ve=v.SkeletonData;e("Main",(Z=ce("Main"),J=ue(m),K=ue(p),Q=ue(p),Y=ue(h),$=ue(ve),ee=ue(ve),Z((ie=t((ne=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"material",ie,o(t)),i(t,"tag",oe,o(t)),i(t,"add",ae,o(t)),i(t,"nft",se,o(t)),i(t,"usdc",re,o(t)),i(t,"coin",le,o(t)),t.touchNode=null,t.allItem=[],t.collectPos=[],t.collectTiles=[],t.touchMaterial=null,t.temporaryItem=[],t.temporaryPos=[],t.currentLevel=1,t.gameStop=!1,t.clickPlay=!0,t.stage1=0,t.stage2=0,t.stage3=0,t.count=0,t.InitializedData=[],t.usdtCount=0,t.myCoinCount=0,t.gameDate=null,t.isGameOver=!1,t}n(t,e);var c=t.prototype;return c.changeTag=function(){0==this.stage1?(this.view["Canvas/ui/bottom/button/add"].getComponent(g).spriteFrame=this.add,this.view["Canvas/ui/bottom/button/add/Label"].getComponent(d).string=""):(this.view["Canvas/ui/bottom/button/add"].getComponent(g).spriteFrame=this.tag,this.view["Canvas/ui/bottom/button/add/Label"].getComponent(d).string=""+this.stage1),0==this.stage2?(this.view["Canvas/ui/bottom/button1/add"].getComponent(g).spriteFrame=this.add,this.view["Canvas/ui/bottom/button1/add/Label"].getComponent(d).string=""):(this.view["Canvas/ui/bottom/button1/add"].getComponent(g).spriteFrame=this.tag,this.view["Canvas/ui/bottom/button1/add/Label"].getComponent(d).string=""+this.stage2),0==this.stage3?(this.view["Canvas/ui/bottom/button2/add"].getComponent(g).spriteFrame=this.add,this.view["Canvas/ui/bottom/button2/add/Label"].getComponent(d).string=""):(this.view["Canvas/ui/bottom/button2/add"].getComponent(g).spriteFrame=this.tag,this.view["Canvas/ui/bottom/button2/add/Label"].getComponent(d).string=""+this.stage3)},c.onLoad=function(){e.prototype.onLoad.call(this),f.frameRate=120,this.dataInit()},c.dataInit=function(){var e=a(s().mark((function e(){var t,n,i,o,a=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initGameId(),e.next=3,F();case 3:if(t=e.sent,n=t.result){for(o in i=[],n)i.push(o);i.forEach((function(e){n[e]&&X.AES.decrypt(n[e],"bc1ptyc7v0hk0w48vqhxf86j7uetu42kf4c5z8nn6llv6f7l2g6cr3nszftf32").toString(X.enc.Utf8).split("").forEach((function(t){var n=M.GUI.urls.find((function(e){return e.tooTip==t}));a.InitializedData.push(r({},n,{level:e})),a.count++}))}))}1==this.currentLevel?this.init(4,2):this.init2(this.InitializedData);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.initGameId=function(){var e=a(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=W("user_info"),e.next=3,H({ton_user_id:t.ton_user_id,game_user_id:t.game_user_id});case 3:200==(n=e.sent).code&&(console.log(n.result),this.gameDate=n.result);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onEnable=function(){C.on(y.EventType.TOUCH_START,this.onTouchStart,this),C.on(y.EventType.TOUCH_END,this.onTouchEnd,this),C.on(y.EventType.TOUCH_MOVE,this.onTouchMove,this)},c.onDisable=function(){C.off(y.EventType.TOUCH_START,this.onTouchStart,this),C.off(y.EventType.TOUCH_END,this.onTouchEnd,this),C.off(y.EventType.TOUCH_MOVE,this.onTouchMove,this),this.unscheduleAllCallbacks()},c.checkItem=function(e){return M.GUI.urls.some((function(t){return t.path==e.name}))},c.onTouchStart=function(e){if(!(this.gameStop||0==this.allItem.length||this.collectTiles.length>=7)){var t=e.getLocation(),n=this.node.parent.getChildByName("Main Camera").getComponent(w),i=new T.Ray;if(null==n||n.screenPointToRay(t.x,t.y,i),b.instance.raycastClosest(i,4294967295,1e7,!0)){var o=b.instance.raycastClosestResult.collider;if("NFT"==o.node.name)return o.node.getComponent(G).destoryCollider(),o.node.destroy(),this.gameStop=!0,this.view["Canvas/Over"].active=!0,this.view["Canvas/Over/falied"].active=!1,void(this.view["Canvas/Over/win"].active=!0);if(!this.checkItem(o.node))return;this.setNodeMaterial(o.node,this.material,!0),o.node.getComponent(G).isTemp||(o.node.getComponent(G).setUseGravity(!1),o.node.getComponent(G).setWorldPosition(1)),this.touchNode=o.node,this.clickPlay&&U.Instance.play("click",{playOnAwake:!0})}}},c.setNodeMaterial=function(e,t,n){var i=this;void 0===n&&(n=!0),"usdc"!=e.name&&"eggcoin"!=e.name&&"nft"!=e.name&&e.children.forEach((function(e){if(n)e.getComponent(I)&&(i.touchMaterial=e.getComponent(I).materials[0],e.getComponent(I).setMaterial(t,0)),i.setNodeMaterial(e,t,n);else{if(e.getComponent(I)){var o=new m;o.copy(i.touchMaterial),e.getComponent(I).setMaterial(o,0)}i.setNodeMaterial(e,t,n)}}))},c.onTouchEnd=function(e){if(!(this.gameStop||0==this.allItem.length||this.collectTiles.length>=7)){var t=e.getLocation(),n=this.node.parent.getChildByName("Main Camera").getComponent(w),i=new T.Ray;null==n||n.screenPointToRay(t.x,t.y,i);var o=b.instance.raycastClosest(i,4294967295,1e7,!0);if(o){var a=b.instance.raycastClosestResult.collider;if(!this.checkItem(a.node))return;if(this.touchNode==a.node){if(a.node.getComponent(G).isTemp||this.touchNode.getComponent(G).setUseGravity(!0),this.setNodeMaterial(this.touchNode,null,!1),2==this.currentLevel&&this.initGravity(),a.node.getComponent(G).isBottom)return;this.chooseItem(this.touchNode)}else console.log(this.touchNode,"不是同一个节点")}else console.log(o)}},c.onTouchMove=function(e){if(!(this.gameStop||0==this.allItem.length||this.collectTiles.length>=7)){var t=e.getLocation(),n=this.node.parent.getChildByName("Main Camera").getComponent(w),i=new T.Ray;if(null==n||n.screenPointToRay(t.x,t.y,i),b.instance.raycastClosest(i,4294967295,1e7,!0)){var o=b.instance.raycastClosestResult.collider;if(o.node){if(!this.checkItem(o.node))return this.touchNode.getComponent(G).setUseGravity(!0),void this.setNodeMaterial(this.touchNode,null,!1);if(this.touchNode&&this.touchNode==o.node)return;this.touchNode.getComponent(G).setUseGravity(!0),this.setNodeMaterial(this.touchNode,null,!1),this.setNodeMaterial(o.node,this.material,!0),o.node.getComponent(G).setUseGravity(!1),o.node.getComponent(G).setWorldPosition(1),this.touchNode=o.node}}}},c.chooseItem=function(e){var t=e.name;if(e.getComponent(G).destoryCollider(),console.log(e.getComponent(G)),e.getComponent(G).isTemp){for(var n=0;n<this.temporaryItem.length;++n)if(this.temporaryItem[n]==e){this.temporaryItem.splice(n,1);break}}else for(n=0;n<this.allItem.length;++n)if(this.allItem[n]==e){this.allItem.splice(n,1);break}var i=!1;for(n=this.collectTiles.length-1;n>=0;--n)if(this.collectTiles[n].name==t){this.collectTiles.splice(n+1,0,e),i=!0;break}i||this.collectTiles.push(e),this.playAnimationStart(t)},c.checkResult=function(){this.collectTiles.length>=7?(this.gameStop=!0,this.view["Canvas/Over"].active=!0,this.view["Canvas/Over/falied"].active=!0,this.view["Canvas/Over/win"].active=!1,this.isGameOver=!1):0==this.collectTiles.length&&0==this.allItem.length&&(1==this.currentLevel?(this.init2(this.InitializedData),this.currentLevel=2):(this.gameStop=!0,this.view["Canvas/Over"].active=!0,this.view["Canvas/Over/falied"].active=!1,this.view["Canvas/Over/win"].active=!0))},c.moveToRightPos=function(){var e=this;0==this.temporaryItem.length&&this.view.temporary.active&&(this.view.temporary.active=!1),this.collectTiles.map((function(t,n){var i=t.getComponent(G);k.stopAllByTarget(t);var o=t.worldPosition,a=e.collectPos[n].clone(),s=new O((o.x+a.x)/2,2*(o.y+a.y),(o.z+a.z)/2);S(t).to(.2,{worldPosition:s}).to(.3,{worldPosition:e.collectPos[n].clone()}).start(),S(t).to(.5,{eulerAngles:i.rotation,scale:i.scale}).call((function(){i.isBottom=!0,i.removed&&S(t).to(.25,{worldPosition:i.removedPos},{easing:"backIn"}).call((function(){if(i.playRmovedEff){var n=e.node.parent.getChildByName("Main Camera").getComponent(w).convertToUINode(t.worldPosition,e.view.Canvas);if("usdc"==t.name||"eggcoin"==t.name){e.view["Canvas/ui/tokenani"].active=!0,e.view["Canvas/ui/tokenani"].setPosition(n.x,n.y);var o=e.view["Canvas/ui/tokenani"].getComponent(v.Skeleton),a=t.name;if("usdc"==t.name?o.skeletonData=e.usdc:o.skeletonData=e.coin,o.setAnimation(0,"baozha",!1),o.addAnimation(0,"feichu",!1),"usdc"==a){var s=e.view["Canvas/ui/tokenani"],r=s.getWorldPosition(),l=e.view["Canvas/ui/coinBox/usdcCion"].getWorldPosition();console.log(l,r),S(s).delay(1.5).to(1,{worldPosition:new O(l.x-350,l.y-r.y,0)}).start()}else{var c=e.view["Canvas/ui/tokenani"],u=c.getWorldPosition(),m=e.view["Canvas/ui/coinBox/eggCion"].getWorldPosition();console.log(m,u),S(c).delay(1.5).to(1,{worldPosition:new O(m.x-350,m.y-u.y,0)}).start()}}else{e.view["Canvas/ui/animation"].active=!0,e.view["Canvas/ui/animation"].setPosition(n.x,n.y),e.view["Canvas/ui/animation"].getComponent(v.Skeleton).setAnimation(0,"effect",!1)}U.Instance.play("starCollect",{playOnAwake:!0}),e.checkResult()}"usdc"==t.name&&(e.usdtCount+=1,e.updateCoinCount()),"eggcoin"==t.name&&(e.myCoinCount+=1,e.updateCoinCount()),t.destroy(),e.moveToRightPos()})).start()})).start()}))},c.updateCoinCount=function(){this.view["Canvas/ui/coinBox/eggCion/Label"].getComponent(d).string=""+this.myCoinCount,this.view["Canvas/ui/coinBox/usdcCion/Label"].getComponent(d).string=""+this.usdtCount},c.init2=function(){var e=a(s().mark((function e(t){var n,i,o,a,r,c,u,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=this.view["GameSpace/ItemSource"],i=P(this.nft),n.addChild(i),o=l(t);!(a=o()).done;)r=a.value,c=D.Instance.getAsset("GUI",r.path),(u=P(c)).eulerAngles=new O(R(0,360),R(0,360),R(0,360)),u.level=r.level,this.allItem.push(u),u.getComponent(E).linearDamping,u.getComponent(E).angularDamping,n.addChild(u),(v=u.getComponent(I))?v.enabled=!1:u.children.forEach((function(e){e.getComponent(I)}));this.initTime();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.init=function(e,t){var n=this,i=this.view["GameSpace/ItemSource"],o=0,a=setInterval((function(){M.GUI.urls.slice(3,6).forEach((function(e,t){var o=D.Instance.getAsset("GUI",e.path),a=P(o);a.eulerAngles=new O(R(0,360),R(0,360),R(0,360)),n.allItem.push(a),i.addChild(a)})),++o>t&&clearInterval(a)}),100)},c.initTime=function(){var e=this;this.view["Canvas/ui/time"].active=!0;var t=q().add(10,"minute");this.schedule((function(){var n=A(t);n.end?(e.unscheduleAllCallbacks(),e.gameStop=!0,e.view["Canvas/Over"].active=!0,e.view["Canvas/Over/falied"].active=!0,e.view["Canvas/Over/win"].active=!1,e.isGameOver=!0):e.view["Canvas/ui/time/Label"].getComponent(d).string=n.minutes+":"+n.seconds}))},c.initGravity=function(){var e=this.view.targetNode.worldPosition;this.allItem.forEach((function(t,n){var i=t.getComponent(E),o=e.subtract(t.worldPosition),a=o.length();o=o.normalize();var s=150/Math.max(a*a,1),r=o.multiplyScalar(s);i.applyForce(r,t.worldPosition)}))},c.start=function(){var e=this;U.Instance.play("bg",{playOnAwake:!0,loop:!0,volume:.4}),this.currentLevel=1,this.usdtCount=0,this.myCoinCount=0,this.changeTag(),this.collectPos=[],this.view.collectnox.children.map((function(t){e.collectPos.unshift(t.worldPosition),t.active=!1})),this.view.temporary.children.map((function(t){e.temporaryPos.push(t.worldPosition),t.active=!1})),this.view.temporary.active=!1,this.view["Canvas/ui/stop"].on(_.EventType.TOUCH_END,(function(t){t.propagationStopped=!0,e.view["Canvas/gameOver"].active=!0,e.gameStop=!0})),this.view["Canvas/gameOver/mask/close"].on(_.EventType.TOUCH_END,(function(t){t.propagationStopped=!0,e.view["Canvas/gameOver"].active=!1,e.gameStop=!1})),this.view["Canvas/gameOver/mask/continue"].on(_.EventType.TOUCH_END,(function(t){t.propagationStopped=!0,e.view["Canvas/gameOver"].active=!1,e.gameStop=!1})),this.view["Canvas/gameOver/mask/giveUp"].on(_.EventType.TOUCH_END,a(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.propagationStopped=!0,t.next=3,e.submitGameOver("false");case 3:e.view["Canvas/gameOver"].active=!1,e.currentLevel=1,x.loadScene("start");case 6:case"end":return t.stop()}}),t)})))),this.view["Canvas/Over/falied/giveUp"].on(_.EventType.TOUCH_END,a(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.propagationStopped=!0,t.next=3,e.submitGameOver("false");case 3:e.view["Canvas/Over"].active=!1,e.currentLevel=1,x.loadScene("start");case 6:case"end":return t.stop()}}),t)})))),this.view["Canvas/Over/falied/continue"].on(_.EventType.TOUCH_END,a(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.propagationStopped=!0,!e.isGameOver){t.next=9;break}return t.next=4,e.submitGameOver("true");case 4:e.view["Canvas/Over"].active=!1,e.currentLevel=1,x.loadScene("start"),t.next=16;break;case 9:e.view["Canvas/Over"].active=!1,e.temporaryItem=e.collectTiles.slice(0,e.collectTiles.length),e.temporaryItem.forEach((function(e){e.getComponent(G).isBottom=!1})),e.collectTiles=e.collectTiles.slice(e.collectTiles.length),e.view.temporary.active=!0,e.mvTemporary(),e.gameStop=!1;case 16:case"end":return t.stop()}}),t)})))),this.view["Canvas/Over/win/continue"].on(_.EventType.TOUCH_END,a(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.propagationStopped=!0,t.next=3,e.submitGameOver("true");case 3:e.view["GameSpace/ItemSource"].removeAllChildren(),e.view["Canvas/Over"].active=!1,e.gameStop=!1,e.collectTiles=[],e.currentLevel=1,x.loadScene("start");case 9:case"end":return t.stop()}}),t)})))),this.view["Canvas/gameOver/mask/setting/sound/Toggle"].on("toggle",(function(e){e.isChecked?U.Instance.play("bg",{playOnAwake:!0,loop:!0,volume:.4}):U.Instance.stop("bg")})),this.view["Canvas/gameOver/mask/setting/music/Toggle"].on("toggle",(function(t){t.isChecked?e.clickPlay=!0:e.clickPlay=!1})),this.view["Canvas/ui/bottom/button"].on(_.EventType.TOUCH_END,(function(t){if(t.propagationStopped=!0,0==e.stage1)return e.view["Canvas/BulletFrame"].active=!0,void e.view["Canvas/BulletFrame"].getComponent(B).setType(1);0!=e.collectTiles.length?(e.collectTiles.length>3?(e.temporaryItem=e.collectTiles.slice(0,3),e.collectTiles=e.collectTiles.slice(3)):(e.temporaryItem=e.collectTiles.slice(0,e.collectTiles.length),e.collectTiles=e.collectTiles.slice(e.collectTiles.length)),e.temporaryItem.forEach((function(e){e.getComponent(G).isBottom=!1})),e.view.temporary.active=!0,e.mvTemporary(),e.stage1=0,e.changeTag()):L("No items were collected")})),this.view["Canvas/ui/bottom/button1"].on(_.EventType.TOUCH_END,(function(t){if(t.propagationStopped=!0,0==e.stage2)return e.view["Canvas/BulletFrame"].active=!0,void e.view["Canvas/BulletFrame"].getComponent(B).setType(2);if(0!=e.collectTiles.length){var n=e.collectTiles.filter((function(t,n){return e.collectTiles.some((function(e,i){return t.name==e.name&&n!=i}))}));if(n.length>0){for(var i=n[0].name,o=[],a=0;a<e.allItem.length;++a)if(e.allItem[a].name==i){o.push.apply(o,e.allItem.splice(a,1));break}o.forEach((function(t){for(var n=!1,i=e.collectTiles.length-1;i>=0;--i)if(e.collectTiles[i].name==t.name){t.getComponent(G).destoryCollider(),t.getComponent(G).setUseGravity(!1),e.collectTiles.splice(i+1,0,t),n=!0;break}n||e.collectTiles.push(t)})),e.playAnimationStart(i)}else{if(!(e.collectTiles.length<6))return void L("Insufficient vacancies");for(var s=e.collectTiles[0].name,r=[],l=0;l<2;l++)for(a=0;a<e.allItem.length;++a)if(e.allItem[a].name==s){r.push.apply(r,e.allItem.splice(a,1));break}r.forEach((function(t){for(var n=!1,i=e.collectTiles.length-1;i>=0;--i)if(e.collectTiles[i].name==t.name){t.getComponent(G).destoryCollider(),t.getComponent(G).setUseGravity(!1),e.collectTiles.splice(i+1,0,t),n=!0;break}n||e.collectTiles.push(t)})),e.playAnimationStart(s)}e.stage2=0,e.changeTag()}else L("No items were collected")})),this.view["Canvas/ui/bottom/button2"].on(_.EventType.TOUCH_END,(function(t){if(t.propagationStopped=!0,0==e.stage3)return e.view["Canvas/BulletFrame"].active=!0,void e.view["Canvas/BulletFrame"].getComponent(B).setType(3);e.stage3=1,e.changeTag()})),this.view["Canvas/BulletFrame/mask/Button"].on(_.EventType.TOUCH_END,a(s().mark((function t(n){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.propagationStopped=!0,1==(i=e.view["Canvas/BulletFrame"].getComponent(B)).type?e.stage1=1:2==i.type?e.stage2=1:e.stage3=1,t.next=5,e.buyAndShareItem();case 5:e.changeTag(),i.close();case 7:case"end":return t.stop()}}),t)}))))},c.submitGameOver=function(){var e=a(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({game_user_id:this.gameDate.game_user_id,game_id:this.gameDate.game_id,result:t,inside_point:this.myCoinCount,inside_usdt:this.usdtCount,prop_one:this.gameDate.prop_one});case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.buyAndShareItem=function(){var e=a(s().mark((function e(){var t,n,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gameDate.prop_one%3!=0){e.next=7;break}return e.next=3,V.Instance.sendTransaction(1e-5);case 3:t=e.sent,console.log(t),e.next=8;break;case 7:null==(n=window)||null==(i=n.TelegramGameProxy)||i.shareScore();case 8:return e.next=10,j({game_id:this.gameDate.game_id,prop_one:this.gameDate.prop_one});case 10:200==(o=e.sent).code&&(this.gameDate.prop_one=o.result.prop_one);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.playAnimationStart=function(e){this.moveToRightPos();var t=this.collectTiles.filter((function(t){return t.name==e}));if(3==t.length)for(var n=this.collectTiles.length-1;n>=0;--n)if(this.collectTiles[n].name==e){var i=this.collectTiles[n];i.getComponent(G).removed=!0,this.collectTiles.splice(n,1),i.getComponent(G).removedPos=t[1].worldPosition,i==t[1]&&(i.getComponent(G).playRmovedEff=!0)}this.checkResult()},c.mvTemporary=function(){var e=this,t=this.temporaryPos.map((function(e){return e.clone()}));this.temporaryItem.map((function(n,i){n.getComponent(G).isTemp=!0;var o=i%3,a=Math.floor(i/3);t[o].y=1==a?2*t[o].y:2==a?3*t[o].y:1*t[o].y,S(n).to(.4,{worldPosition:t[o]}).call((function(){e.moveToRightPos()})).start()}))},c.update=function(e){},t}(N)).prototype,"material",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(ne.prototype,"tag",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(ne.prototype,"add",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(ne.prototype,"nft",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(ne.prototype,"usdc",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ne.prototype,"coin",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=ne))||te));c._RF.pop()}}}));

System.register("chunks:///_virtual/Message.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UiMgr.ts"],(function(e){var t,o,n,s,r,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,s=e.Label,r=e.UIOpacity,i=e.tween},function(e){a=e.UICtrl}],execute:function(){var c;o._RF.push({},"51bc7fU8Y9MSYWWLBh/fEe+","Message",void 0);var u=n.ccclass;n.property,e("Message",u("Message")(c=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this)},n.setValue=function(e,t){var o=this;this.node.getChildByName("Label").getComponent(s).string=e;var n=this.node.getComponent(r);i(n).to(.6,{opacity:255}).start();var a=setTimeout((function(){o.node&&(o.node.active=!1,o.node.destroy()),clearTimeout(a)}),t||2e3)},o}(a))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/request.ts",["cc","./config.ts","./ResMgr.ts","./index2.ts","./storage.ts"],(function(e){var t,n,a,r,s,o,i,u;return{setters:[function(e){t=e.cclegacy,n=e.find,a=e.instantiate},function(e){r=e.baseUrl,s=e.baseUrl1},function(e){o=e.ResMgr},function(e){i=e.keyObject},function(e){u=e.getStorageData}],execute:function(){e("default",(function(e){return new Promise((function(t,a){n("Canvas");var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&(200==s.status||201==s.status)){var e=JSON.parse(s.responseText);t(e)}},s.timeout=e.timeout||5e4;var o=e.method||"GET",c=r+e.url;if(e.data=e.data,"get"==o||"GET"==o){e.data&&(c=c+"?"+i(e.data)),s.open(o,c,!0);var h=u("token");h&&s.setRequestHeader("token",h),s.setRequestHeader("Content-type","application/json;charset=utf-8"),s.send()}else{s.open(o,c,!0);var d=u("token");d&&s.setRequestHeader("token",d),s.setRequestHeader("Content-type","application/json;charset=utf-8");try{s.send(JSON.stringify(e.data))}catch(e){console.log(e)}}}))})),t._RF.push({},"0b092YOWnRMHZj9czjoyStZ","request",void 0);e("ajax",new(function(){function e(){this.xhr=void 0,this.xhr=new XMLHttpRequest,this.xhr.timeout=5e4}var t=e.prototype;return t.get=function(e,t){var r=this;return new Promise((function(c,h){var d=n("Canvas"),f=o.Instance.getAsset("GUI","component/Loading"),p=a(f);d.getChildByName("Loading")||d.addChild(p),r.xhr.onreadystatechange=function(){if(4==r.xhr.readyState&&200==r.xhr.status){var e=JSON.parse(r.xhr.responseText);p.destroy(),c(e)}};var x=s+e;t&&t&&(x=x+"?"+i(t)),r.xhr.open("GET",x,!0);var v=u("token");v&&r.xhr.setRequestHeader("token",v),r.xhr.setRequestHeader("Content-type","application/json;charset=utf-8"),r.xhr.send()}))},t.post=function(e,t){var n=this;return new Promise((function(a,r){n.xhr.onreadystatechange=function(){if(4==n.xhr.readyState&&201==n.xhr.status){var e=JSON.parse(n.xhr.responseText);a(e)}};var o=s+e;n.xhr.open("POST",o,!0);var i=u("token");i&&n.xhr.setRequestHeader("token",i),n.xhr.setRequestHeader("Content-type","application/json;charset=utf-8"),n.xhr.send(JSON.stringify(t))}))},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,e,r,s,a;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n.assetManager,r=n.SpriteFrame,s=n.SpriteAtlas,a=n.Component}],execute:function(){t._RF.push({},"87881hT1qdLp79gFpPIDHKe","ResMgr",void 0),n("ResMgr",function(n){function t(){for(var o,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(o=n.call.apply(n,[this].concat(e))||this).totalAb=0,o.nowAb=0,o.total=0,o.now=0,o.abBUnds={},o.progressFun=null,o.endFun=null,o}o(t,n);var a=t.prototype;return a.onLoad=function(){t.Instance?this.destroy():t.Instance=this},a.preloadResourcePkg=function(n,o,t){var e=this;for(var r in this.totalAb=0,this.nowAb=0,this.total=0,this.now=0,this.progressFun=o,this.endFun=t,n)this.totalAb++,this.total+=n[r].urls.length;for(var s in n)this.loadAssetBundle(s,(function(){e.nowAb++,e.nowAb==e.totalAb&&e.loadAssetsInAssetBundle(n)}))},a.preloadResourcePkgAny=function(n,o,t){var r=this;for(var s in this.totalAb=0,this.nowAb=0,this.total=0,this.now=0,this.progressFun=o,this.endFun=t,n)this.totalAb++,this.total+=n[s].urls.length;for(var a in n)e.preloadAny(n[a].urls,(function(n,o,t){r.nowAb++,r.now+=n,r.progressFun&&r.progressFun(r.now,r.total)}),(function(n,o){n&&console.error("预加载失败"),r.endFun&&r.endFun()}))},a.loadAssetsInAssetBundle=function(n){var o=this,t=function(t){n[t].urls.forEach((function(n){o.loadRes(o.abBUnds[t],n.path,n.assetType)}))};for(var e in n)t(e)},a.loadRes=function(n,o,t){var e=this;n.load(o,t,(function(n,r){e.now++,t.name,n&&(console.error(n),console.error("load res err "+o)),e.progressFun&&e.progressFun(e.now,e.total),e.now>=e.total&&e.endFun&&e.endFun()}))},a.loadAssetBundle=function(n,o){var t=this;e.loadBundle(n,(function(e,r){e?console.error("load loadAssetBundle error"+n):t.abBUnds[n]=r,o&&o()}))},a.unloadResourcePkg=function(n){for(var o in n)e.removeBundle(this.abBUnds[o])},a.getAsset=function(n,o,t){var s=e.getBundle(n);s||console.error("getBundle err !!!"),s.load(o,r,(function(n,o){}));var a=s.get(o);return a||s.load(o,r,(function(n,o){t&&t(o)})),a},a.getPlistAsset=function(n,o,t){var r=e.getBundle(n);r||console.error("getBundle err !!!"),r.load(o,s,(function(n,e){n&&console.error("load res err "+o),t&&t(e)}))},t}(a)).Instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/Start.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./GameFiMgr.ts","./index.ts","./UiMgr.ts","./index3.ts","./storage.ts"],(function(t){var e,n,r,a,o,s,i,c,u,p,l,f,d,g,h,v,m,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,c=t._decorator,u=t.Node,p=t.director,l=t.Label,f=t.ProgressBar},function(t){d=t.ResMgr},function(t){g=t.GameFiMgr},function(t){h=t.resPkg},function(t){v=t.UICtrl},function(t){m=t.getGameUserInfo},function(t){w=t.setStorageData}],execute:function(){var y,b,G,L,x;i._RF.push({},"56e26DaluZGB6fS6NaTOueI","Start",void 0);var I=c.ccclass,_=c.property;t("Start",(y=I("Start"),b=_(u),y((x=e((L=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(e,"GameData",x,a(e)),e.isLogin=!1,e.address="",e}n(e,t);var i=e.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),p.addPersistRootNode(this.GameData),this.initGameDatainfo()},i.initGameDatainfo=function(){var t=o(s().mark((function t(){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.Instance._bTonInit?(this.isLogin=!0,this.address=g.Instance._cocosGameFi.wallet.account.address):g.Instance.initTonConnect(o(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(n),n?(e.address=n.account.address,e.isLogin=!0):(e.isLogin=!0,e.address=g.Instance._cocosGameFi.wallet.account.address);case 2:case"end":return t.stop()}}),t)})))),this.view.Button.on(u.EventType.TOUCH_END,o(s().mark((function t(n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.propagationStopped=!0,!e.isLogin){t.next=8;break}return t.next=4,g.Instance.sendTransaction(1e-5);case 4:r=t.sent,console.log(r),t.next=9;break;case 8:g.Instance.openModal();case 9:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.loginWeb=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({user_id_wallet:this.address});case 2:200==(e=t.sent).code&&this.saveResult(e.result);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.saveResult=function(t){w("user_info",t),this.view["bitcone/eggCoinGroup/Label"].getComponent(l).string=t.points,this.view["bitcone/usdcCoinGroup/Label"].getComponent(l).string=t.usdt_coin},i.start=function(){var t=this;this.isLogin=!1,d.Instance.preloadResourcePkg(h,(function(e,n){t.view["pbar/ProgressBar"].getComponent(f).progress=e/n}),o(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.view.Button.active=!0}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)}))))},i.update=function(t){},e}(v)).prototype,"GameData",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=L))||G));i._RF.pop()}}}));

System.register("chunks:///_virtual/storage.ts",["cc"],(function(t){var e,a;return{setters:[function(t){e=t.cclegacy,a=t.sys}],execute:function(){e._RF.push({},"28fccWncOFOiruMdj4PtvaN","storage",void 0);t("setStorageData",(function(t,e){a.localStorage.setItem(t,JSON.stringify(e))})),t("getStorageData",(function(t){return a.localStorage.getItem(t)?JSON.parse(a.localStorage.getItem(t)):null})),t("removeStorageData",(function(t){a.localStorage.removeItem(t)})),t("clearStorageData",(function(){a.localStorage.clear()}));e._RF.pop()}}}));

System.register("chunks:///_virtual/type.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c05a00xUqVKorvfx9AXhENp","type",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/UiMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,e,t,r;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy,t=n.Button,r=n.Component}],execute:function(){e._RF.push({},"0347bkkmf9Lwpk/Cdl/7Fvq","UiMgr",void 0);n("UICtrl",function(n){function e(){for(var o,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(o=n.call.apply(n,[this].concat(t))||this).view={},o}o(e,n);var r=e.prototype;return r.onLoad=function(){this.load_all_node(this.node,"")},r.load_all_node=function(n,o){for(var e=0;e<n.children.length;e++)this.view[o+n.children[e].name]=n.children[e],this.load_all_node(n.children[e],o+n.children[e].name+"/")},r.addButtonListener=function(n,o,e){var r=this.view[n];r?r.getComponent(t)?r.on(t.EventType.CLICK,e,o):console.error(n+"Component not found"):console.error(n+"node not found")},e}(r));e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});